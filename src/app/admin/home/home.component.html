<nb-card>
  <!-- <nb-card-header> User Management </nb-card-header> -->
  <nb-card-body>
    <div class="container mt-5 pt-5">
      <h1>Shop Lists</h1>
      <div class="button-row float-right">
        <button
          class="btn btn-outline-primary add-user-btn m-2"
          (click)="open(content)"
        >
          <!-- (click)="open(mymodal)" -->
          Add New Shop
        </button>
      </div>
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Full Name</th>
            <th>Gender</th>
            <th>Phone</th>
            <th>Email</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody *ngFor="let user of items | async">
          <tr>
            <td>{{ user.displayName }}</td>
            <td>{{ user.gender }}</td>
            <td>{{ user.phone }}</td>
            <td>{{ user.email }}</td>
            <td>
              <button (click)="openUserDetail(user)" class="btn btn-info">
                View
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </nb-card-body>
</nb-card>
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Add new shop</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <nb-card>
      <nb-card-header
        >
        <!-- <button nbButton class="float-right" (click)="ref.close()">
          Close
        </button> -->
      </nb-card-header>
      <nb-card-body>
        <form [formGroup]="form" (ngSubmit)="onSubmit(model)">
          <formly-form
            [form]="form"
            [fields]="fields"
            [model]="model"
          ></formly-form>
          <div class="justify-content-center text-center">
            <button
              type="submit"
              class="btn btn-primary submit-button login-button"
            >
              Submit
            </button>
          </div>
        </form>
      </nb-card-body>
      <nb-card-footer> </nb-card-footer>
    </nb-card>
  </div>
  <div class="modal-footer">
    <!-- <button
      type="button"
      class="btn btn-outline-dark"
      (click)="modal.close('Save click')"
    >
      Save
    </button> -->
  </div>
</ng-template>

<ng-template #dialog>
  <nb-card>
    <nb-card-header
      >ADD NEW USER
      <button nbButton class="float-right" (click)="ref.close()">Close</button>
    </nb-card-header>
    <nb-card-body>
      <form [formGroup]="form" (ngSubmit)="onSubmit(model)">
        <formly-form
          [form]="form"
          [fields]="fields"
          [model]="model"
        ></formly-form>
        <div class="justify-content-center text-center">
          <button
            type="submit"
            class="btn btn-primary submit-button login-button"
          >
            Submit
          </button>
        </div>
      </form>
    </nb-card-body>
    <nb-card-footer> </nb-card-footer>
  </nb-card>
</ng-template>
